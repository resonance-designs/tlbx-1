import { Theme } from "../theme/index.slint";

export component RDSButton {
    in property <string> label;
    in property <length> label-padding-top: 4px;
    in property <length> label-padding-right: 4px;
    in property <length> label-padding-bottom: 4px;
    in property <length> label-padding-left: 4px;
    in property <color> text-color: Theme.active.text_primary;
    in property <TextHorizontalAlignment> horizontal-alignment: center;
    in property <TextVerticalAlignment> vertical-alignment: center;
    in property <bool> active;
    in property <length> button-width: 42px;
    in property <length> button-height: 28px;
    in property <color> background: Theme.active.background_main;
    in property <length> border-width: 1px;
    in property <color> border-color: Theme.active.border_strong;
    in property <length> border-radius: Theme.active.radius_medium;
    callback clicked();

    width: root.button-width;
    height: root.button-height;

    Rectangle {
        width: parent.width;
        height: parent.height;
        background: root.background;
        border-width: root.border-width;
        border-color: root.border-color;
        border-radius: root.border-radius;
        HorizontalLayout {
            padding-top: root.label-padding-top;
            padding-right: root.label-padding-right;
            padding-bottom: root.label-padding-bottom;
            padding-left: root.label-padding-left;
            Text {
                text: root.label;
                color: root.text-color;
                horizontal-alignment: root.horizontal-alignment;
                vertical-alignment: root.vertical-alignment;
            }
        }
        TouchArea {
            width: parent.width;
            height: parent.height;
            clicked => root.clicked();
        }
    }
}

export component RDSSelectButton {
    in property <string> label;
    in property <bool> active;
    in property <length> button-width: 80px;
    in property <length> button-height: 28px;
    callback clicked();

    width: root.button-width;
    height: root.button-height;

    Rectangle {
        width: parent.width;
        height: parent.height;
        x: (parent.width - self.width) / 2;
        y: (parent.height - self.height) / 2;
        border-radius: Theme.active.radius_large;
        border-color: @linear-gradient(180deg, #242424 0%, #161616 100%);
        border-width: 1px;
        drop-shadow-blur: root.active ? 8px : 8px;
        drop-shadow-offset-y: root.active ? 2px : 6px;
        drop-shadow-color: #000;

        // Inner background rectangle to prevent bleed, inset by border width
        Rectangle {
            x: 1px;
            y: 1px;
            width: parent.width - 4px;
            height: parent.height - 4px;
            background: root.active ? Theme.active.accent_secondary : Theme.active.background_main;
            border-radius: Theme.active.radius_large - 3px;
        }

        Text {
            text: root.label;
            color: Theme.active.text_primary;
            font-size: Theme.active.font_small;
            horizontal-alignment: center;
            vertical-alignment: center;
        }

        TouchArea {
            width: parent.width;
            height: parent.height;
            clicked => root.clicked();
        }
    }
}

export component RDSSequencerCell {
    in property <bool> active;
    in property <bool> current;
    callback clicked();

    width: 20px;
    height: 20px;

    Rectangle {
        width: parent.width;
        height: parent.height;
        background: root.current ? Theme.active.text_primary : (root.active ? Theme.active.accent_primary : Theme.active.border_subtle);
        border-radius: Theme.active.radius_small;
        border-color: Theme.active.border_strong;
        border-width: 1px;

        TouchArea {
            width: parent.width;
            height: parent.height;
            clicked => root.clicked();
        }
    }
}

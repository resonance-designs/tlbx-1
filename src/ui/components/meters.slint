import { Theme } from "../theme/index.slint";

export component RDSVUMeter {
    in property <float> level;
    in property <color> fill-color: Theme.active.meter_normal;
    property <float> clamped-level: Math.max(0.0, Math.min(1.0, root.level));

    width: 140px;
    height: 10px;

    Rectangle {
        width: parent.width;
        height: parent.height;
        background: Theme.active.background_main;
        border-radius: Theme.active.radius_medium;
        border-color: Theme.active.border_subtle;
        border-width: 1px;

        Rectangle {
            width: Math.max(4px, root.clamped-level * parent.width);
            height: parent.height;
            background: root.fill-color;
            border-radius: Theme.active.radius_medium;
        }
    }
}

export component RDSVertVUMeter {
    in property <float> level;
    in property <color> fill-color: Theme.active.meter_normal;
    property <float> clamped-level: Math.max(0.0, Math.min(1.0, root.level));

    width: 12px;
    height: 88px;

    Rectangle {
        width: parent.width;
        height: parent.height;
        background: Theme.active.background_main;
        border-radius: Theme.active.radius_medium;
        border-color: Theme.active.border_subtle;
        border-width: 1px;

        Rectangle {
            width: parent.width;
            height: Math.max(2px, root.clamped-level * parent.height);
            y: parent.height - self.height;
            background: root.fill-color;
            border-radius: Theme.active.radius_medium;
        }
    }
}
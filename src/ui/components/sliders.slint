import { Theme } from "../theme/index.slint";

export component RDSSlider inherits Rectangle {
    // Public properties
    in-out property <float> value: 0; // Current value
    in-out property <float> min-value: 0;
    in-out property <float> max-value: 127;
    in-out property <string> size: "large"; // "small", "medium", or "large"
    in-out property <string> orientation: "vertical"; // "vertical" or "horizontal"

    callback value-changed(float); // Callback when value changes

    // Private properties for drag tracking
    private property <length> drag-start-pos: 0px;
    private property <float> drag-start-value: 0;
    private property <float> drag-sensitivity: 1.0; // Adjust drag sensitivity
    private property <float> scroll-sensitivity: 1.0; // Adjust scroll sensitivity

    // Size scale factors
    private property <float> scale: root.size == "small" ? 0.5 : (root.size == "medium" ? 0.75 : 1.0);
    private property <bool> is-horizontal: root.orientation == "horizontal";

    // Scaled dimensions
    private property <length> base-width: 70px;
    private property <length> base-height: 420px;
    in-out property <length> height-override: 0px;
    private property <length> effective-height: root.height-override > 0px ? root.height-override : root.base-height * root.scale;
    private property <length> scaled-travel: (root.effective-height - 120px * root.scale);

    width: root.is-horizontal ? root.effective-height : root.base-width * root.scale;
    height: root.is-horizontal ? root.base-width * root.scale : root.effective-height;
    clip: true;

    // Calculate button position based on value and orientation
    private property <length> button-pos: (17.5px * root.scale) + (root.effective-height - 102.5px * root.scale) * (1 - (root.value - root.min-value) / Math.max(0.01, root.max-value - root.min-value));

    markings-left := Rectangle {
        x: root.is-horizontal ? 50px * root.scale : 1px * root.scale;
        y: root.is-horizontal ? 1px * root.scale : 50px * root.scale;
        width: root.is-horizontal ? root.effective-height - 100px * root.scale : 25px * root.scale;
        height: root.is-horizontal ? 25px * root.scale : root.effective-height - 100px * root.scale;

        mark1 := Rectangle {
            x: root.is-horizontal ? 0px : 0px;
            y: root.is-horizontal ? 0px : 0px;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark2 := Rectangle {
            x: root.is-horizontal ? 10px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 10px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark3 := Rectangle {
            x: root.is-horizontal ? 20px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 20px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark4 := Rectangle {
            x: root.is-horizontal ? 30px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 30px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark5 := Rectangle {
            x: root.is-horizontal ? 40px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 40px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark6 := Rectangle {
            x: root.is-horizontal ? 50px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 50px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark7 := Rectangle {
            x: root.is-horizontal ? 60px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 60px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark8 := Rectangle {
            x: root.is-horizontal ? 70px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 70px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark9 := Rectangle {
            x: root.is-horizontal ? 80px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 80px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark10 := Rectangle {
            x: root.is-horizontal ? 90px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 90px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark11 := Rectangle {
            x: root.is-horizontal ? 100px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 100px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark12 := Rectangle {
            x: root.is-horizontal ? 110px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 110px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark13 := Rectangle {
            x: root.is-horizontal ? 120px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 120px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark14 := Rectangle {
            x: root.is-horizontal ? 130px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 130px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark15 := Rectangle {
            x: root.is-horizontal ? 140px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 140px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark16 := Rectangle {
            x: root.is-horizontal ? 150px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 150px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark17 := Rectangle {
            x: root.is-horizontal ? 160px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 160px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark18 := Rectangle {
            x: root.is-horizontal ? 170px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 170px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark19 := Rectangle {
            x: root.is-horizontal ? 180px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 180px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark20 := Rectangle {
            x: root.is-horizontal ? 190px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 190px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark21 := Rectangle {
            x: root.is-horizontal ? 200px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 200px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark22 := Rectangle {
            x: root.is-horizontal ? 210px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 210px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark23 := Rectangle {
            x: root.is-horizontal ? 220px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 220px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark24 := Rectangle {
            x: root.is-horizontal ? 230px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 230px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark25 := Rectangle {
            x: root.is-horizontal ? 240px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 240px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark26 := Rectangle {
            x: root.is-horizontal ? 250px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 250px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark27 := Rectangle {
            x: root.is-horizontal ? 260px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 260px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark28 := Rectangle {
            x: root.is-horizontal ? 270px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 270px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark29 := Rectangle {
            x: root.is-horizontal ? 280px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 280px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark30 := Rectangle {
            x: root.is-horizontal ? 290px * root.scale : 10px * root.scale;
            y: root.is-horizontal ? 10px * root.scale : 290px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark31 := Rectangle {
            x: root.is-horizontal ? 300px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 300px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
    }

    markings-right := Rectangle {
        x: root.is-horizontal ? 50px * root.scale : 44px * root.scale;
        y: root.is-horizontal ? 44px * root.scale : 50px * root.scale;
        width: root.is-horizontal ? root.effective-height - 100px * root.scale : 25px * root.scale;
        height: root.is-horizontal ? 25px * root.scale : root.effective-height - 100px * root.scale;

        mark32 := Rectangle {
            x: root.is-horizontal ? 0px : 0px;
            y: root.is-horizontal ? 0px : 0px;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark33 := Rectangle {
            x: root.is-horizontal ? 10px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 10px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark34 := Rectangle {
            x: root.is-horizontal ? 20px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 20px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark35 := Rectangle {
            x: root.is-horizontal ? 30px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 30px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark36 := Rectangle {
            x: root.is-horizontal ? 40px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 40px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark37 := Rectangle {
            x: root.is-horizontal ? 50px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 50px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark38 := Rectangle {
            x: root.is-horizontal ? 60px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 60px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark39 := Rectangle {
            x: root.is-horizontal ? 70px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 70px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark40 := Rectangle {
            x: root.is-horizontal ? 80px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 80px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark41 := Rectangle {
            x: root.is-horizontal ? 90px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 90px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark42 := Rectangle {
            x: root.is-horizontal ? 100px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 100px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark43 := Rectangle {
            x: root.is-horizontal ? 110px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 110px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark44 := Rectangle {
            x: root.is-horizontal ? 120px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 120px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark45 := Rectangle {
            x: root.is-horizontal ? 130px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 130px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark46 := Rectangle {
            x: root.is-horizontal ? 140px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 140px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark47 := Rectangle {
            x: root.is-horizontal ? 150px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 150px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark48 := Rectangle {
            x: root.is-horizontal ? 160px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 160px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark49 := Rectangle {
            x: root.is-horizontal ? 170px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 170px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark50 := Rectangle {
            x: root.is-horizontal ? 180px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 180px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark51 := Rectangle {
            x: root.is-horizontal ? 190px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 190px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark52 := Rectangle {
            x: root.is-horizontal ? 200px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 200px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark53 := Rectangle {
            x: root.is-horizontal ? 210px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 210px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark54 := Rectangle {
            x: root.is-horizontal ? 220px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 220px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark55 := Rectangle {
            x: root.is-horizontal ? 230px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 230px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark56 := Rectangle {
            x: root.is-horizontal ? 240px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 240px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark57 := Rectangle {
            x: root.is-horizontal ? 250px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 250px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark58 := Rectangle {
            x: root.is-horizontal ? 260px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 260px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark59 := Rectangle {
            x: root.is-horizontal ? 270px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 270px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark60 := Rectangle {
            x: root.is-horizontal ? 280px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 280px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark61 := Rectangle {
            x: root.is-horizontal ? 290px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 290px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 15px * root.scale;
            height: root.is-horizontal ? 15px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
        mark62 := Rectangle {
            x: root.is-horizontal ? 300px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 300px * root.scale;
            width: root.is-horizontal ? 2px * root.scale : 25px * root.scale;
            height: root.is-horizontal ? 25px * root.scale : 2px * root.scale;
            background: Theme.active.border_strong;
        }
    }

    slider-range := Rectangle {
        x: root.is-horizontal ? 50px * root.scale : 30px * root.scale;
        y: root.is-horizontal ? 30px * root.scale : 50px * root.scale;
        width: root.is-horizontal ? root.effective-height - 100px * root.scale : 10px * root.scale;
        height: root.is-horizontal ? 10px * root.scale : root.effective-height - 100px * root.scale;
        background: root.is-horizontal ? @linear-gradient(
            90deg,
            Theme.active.background_main 0%,
            Theme.active.background_raised 100%) : @linear-gradient(
            180deg,
            Theme.active.background_main 0%,
            Theme.active.background_raised 100%);
        border-width: 2px * root.scale;
        border-color: root.is-horizontal ? @linear-gradient(
            90deg,
            Theme.active.border_strong 0%,
            Theme.active.border_subtle 100%) : @linear-gradient(
            180deg,
            Theme.active.border_strong 0%,
            Theme.active.border_subtle 100%);
        border-radius: 5px * root.scale;
    }

    drag-button := Rectangle {
        x: root.is-horizontal ? root.button-pos : 15px * root.scale;
        y: root.is-horizontal ? 15px * root.scale : root.button-pos;
        width: root.is-horizontal ? 70px * root.scale : 40px * root.scale;
        height: root.is-horizontal ? 40px * root.scale : 70px * root.scale;
        background: @linear-gradient(180deg, Theme.active.background_raised 0%, Theme.active.background_main 100%);
        border-color: @linear-gradient(180deg, Theme.active.border_strong 0%, Theme.active.background_main 100%);
        border-width: 3px * root.scale;
        border-radius: 10px * root.scale;
        drop-shadow-blur: 2px * root.scale;
        drop-shadow-color: #000;
        drop-shadow-offset-x: 2px * root.scale;
        drop-shadow-offset-y: 2px * root.scale;
        clip: true;

        grooves := Rectangle {
            width: root.is-horizontal ? 45px * root.scale : 40px * root.scale;
            height: root.is-horizontal ? 40px * root.scale : 45px * root.scale;
            groove1 := Rectangle {
                x: root.is-horizontal ? 0px : 0px;
                y: root.is-horizontal ? 0px : 0px;
                width: root.is-horizontal ? 2px * root.scale : 48px * root.scale;
                height: root.is-horizontal ? 48px * root.scale : 2px * root.scale;
                opacity: 0.8;
                background: Theme.active.border_subtle;
                drop-shadow-blur: 2px * root.scale;
                drop-shadow-color: #000000;
                drop-shadow-offset-x: root.is-horizontal ? 1px * root.scale : 0px;
                drop-shadow-offset-y: root.is-horizontal ? 0px : 1px * root.scale;
            }
            groove2 := Rectangle {
                x: root.is-horizontal ? 4px * root.scale : 0px;
                y: root.is-horizontal ? 0px : 4px * root.scale;
                width: root.is-horizontal ? 2px * root.scale : 40px * root.scale;
                height: root.is-horizontal ? 40px * root.scale : 2px * root.scale;
                background: Theme.active.border_subtle;
                drop-shadow-blur: 2px * root.scale;
                drop-shadow-color: #000000;
                drop-shadow-offset-x: root.is-horizontal ? 1px * root.scale : 0px;
                drop-shadow-offset-y: root.is-horizontal ? 0px : 1px * root.scale;
            }
            groove3 := Rectangle {
                x: root.is-horizontal ? 8px * root.scale : 0px;
                y: root.is-horizontal ? 0px : 8px * root.scale;
                width: root.is-horizontal ? 2px * root.scale : 40px * root.scale;
                height: root.is-horizontal ? 40px * root.scale : 2px * root.scale;
                background: Theme.active.border_subtle;
                drop-shadow-blur: 2px * root.scale;
                drop-shadow-color: #000000;
                drop-shadow-offset-x: root.is-horizontal ? 1px * root.scale : 0px;
                drop-shadow-offset-y: root.is-horizontal ? 0px : 1px * root.scale;
            }
            groove4 := Rectangle {
                x: root.is-horizontal ? 34px * root.scale : 0px;
                y: root.is-horizontal ? 0px : 34px * root.scale;
                width: root.is-horizontal ? 2px * root.scale : 40px * root.scale;
                height: root.is-horizontal ? 40px * root.scale : 2px * root.scale;
                background: Theme.active.border_subtle;
                drop-shadow-blur: 2px * root.scale;
                drop-shadow-color: #000000;
                drop-shadow-offset-x: root.is-horizontal ? 1px * root.scale : 0px;
                drop-shadow-offset-y: root.is-horizontal ? 0px : 1px * root.scale;
            }
            groove5 := Rectangle {
                x: root.is-horizontal ? 38px * root.scale : 0px;
                y: root.is-horizontal ? 0px : 38px * root.scale;
                width: root.is-horizontal ? 2px * root.scale : 40px * root.scale;
                height: root.is-horizontal ? 40px * root.scale : 2px * root.scale;
                background: Theme.active.border_subtle;
                drop-shadow-blur: 2px * root.scale;
                drop-shadow-color: #000000;
                drop-shadow-offset-x: root.is-horizontal ? 1px * root.scale : 0px;
                drop-shadow-offset-y: root.is-horizontal ? 0px : 1px * root.scale;
            }
            groove6 := Rectangle {
                x: root.is-horizontal ? 42px * root.scale : 0px;
                y: root.is-horizontal ? 0px : 42px * root.scale;
                width: root.is-horizontal ? 2px * root.scale : 40px * root.scale;
                height: root.is-horizontal ? 40px * root.scale : 2px * root.scale;
                background: Theme.active.border_subtle;
                drop-shadow-blur: 2px * root.scale;
                drop-shadow-color: #000000;
                drop-shadow-offset-x: root.is-horizontal ? 1px * root.scale : 0px;
                drop-shadow-offset-y: root.is-horizontal ? 0px : 1px * root.scale;
            }
        }

        drag-pointer := Rectangle {
            x: root.is-horizontal ? 32.5px * root.scale : 0px;
            y: root.is-horizontal ? 0px : 32.5px * root.scale;
            width: root.is-horizontal ? 5px * root.scale : 40px * root.scale;
            height: root.is-horizontal ? 40px * root.scale : 5px * root.scale;
            background: Theme.active.text_secondary;
        }

        // Touch area for dragging
        touch := TouchArea {
            width: parent.width;
            height: parent.height;

            pointer-event(event) => {
                if (event.button == PointerEventButton.left) {
                    if (event.kind == PointerEventKind.down) {
                        root.drag-start-pos = root.is-horizontal ? self.mouse-x : self.mouse-y;
                        root.drag-start-value = root.value;
                    }
                }
            }

            moved => {
                if (self.pressed) {
                    // Calculate new value based on drag
                    if (root.is-horizontal) {
                        // Horizontal: right increases value
                        root.value = root.drag-start-value + ((self.mouse-x - root.drag-start-pos) / root.scaled-travel) * (root.max-value - root.min-value) * root.drag-sensitivity;
                    } else {
                        // Vertical: up increases value
                        root.value = root.drag-start-value - ((self.mouse-y - root.drag-start-pos) / root.scaled-travel) * (root.max-value - root.min-value) * root.drag-sensitivity;
                    }

                    // Clamp value to range
                    root.value = Math.max(root.min-value, Math.min(root.max-value, root.value));

                    // Emit callback
                    root.value-changed(root.value);
                }
            }

            scroll-event(event) => {
                // Handle scroll wheel (convert delta-y from length to float)
                root.value = root.value - (event.delta-y / 1px) * root.scroll-sensitivity;

                // Clamp value to range
                root.value = Math.max(root.min-value, Math.min(root.max-value, root.value));

                // Emit callback
                root.value-changed(root.value);

                return accept;
            }
        }
    }
}